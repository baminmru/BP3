Ext.require(["Ext.form.*"]);bp3ft_=null;function bp3ft_Panel_(d,e,f){var g=Ext.create("Ext.data.Store",{model:"model_bp3ft_def",autoLoad:false,autoSync:false,proxy:{type:"ajax",url:rootURL+"index.php/c_bp3ft_def/getRows",reader:{type:"json",root:"data",successProperty:"success",messageProperty:"msg"},extraParams:{instanceid:d}}});var i=Ext.create("Ext.data.Store",{model:"model_bp3ft_map",autoLoad:false,autoSync:false,proxy:{type:"ajax",url:rootURL+"index.php/c_bp3ft_map/getRows",reader:{type:"json",root:"data",successProperty:"success",messageProperty:"msg"},extraParams:{instanceid:d}}});var h=Ext.create("Ext.data.Store",{model:"model_bp3ft_enums",autoLoad:false,autoSync:false,proxy:{type:"ajax",url:rootURL+"index.php/c_bp3ft_enums/getRows",reader:{type:"json",root:"data",successProperty:"success",messageProperty:"msg"},extraParams:{instanceid:d}}});DefineForms_bp3ft_def_();DefineForms_bp3ft_map_();DefineForms_bp3ft_enums_();var a=DefineInterface_bp3ft_def_("int_bp3ft_def",g,f);var c=DefineInterface_bp3ft_map_("int_bp3ft_map",i);var b=DefineInterface_bp3ft_enums_("int_bp3ft_enums",h);bp3ft_=Ext.create("Ext.form.Panel",{id:"bp3ft",layout:"fit",fieldDefaults:{labelAlign:"top",msgTarget:"side"},defaults:{anchor:"100%"},instanceid:d,onCommit:function(){},onButtonOk:function(){var j=this;a.doSave(j.onCommit)},onButtonCancel:function(){},canClose:function(){return a.canClose()},items:[{xtype:"tabpanel",itemId:"tabs_bp3ft",activeTab:0,layout:"fit",tabPosition:"top",border:0,items:[{xtype:"panel",border:0,title:"Тип поля",layout:"fit",itemId:"tab_bp3ft_def",items:[a]},{xtype:"panel",border:0,title:"Отображение",layout:"fit",itemId:"tab_bp3ft_map",items:[c]},{xtype:"panel",border:0,title:"Зачения",layout:"fit",itemId:"tab_bp3ft_enums",items:[b]}]}]});if(e==true){bp3ft_.closable=true;bp3ft_.title="Типы полей";bp3ft_.frame=true}else{bp3ft_.closable=false;bp3ft_.title="";bp3ft_.frame=false}g.on("load",function(){if(g.count()==0){g.insert(0,new model_bp3ft_def())}record=g.getAt(0);record.instanceid=d;a.setActiveRecord(record,d)});g.load({params:{instanceid:d}});c.instanceid=d;i.load({params:{instanceid:d}});b.instanceid=d;h.load({params:{instanceid:d}});return bp3ft_};