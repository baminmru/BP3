Ext.require(["Ext.form.*"]);bp3qry_=null;function bp3qry_Panel_(d,e,f){var h=Ext.create("Ext.data.Store",{model:"model_bp3qry_def",autoLoad:false,autoSync:false,proxy:{type:"ajax",url:rootURL+"index.php/c_bp3qry_def/getRows",reader:{type:"json",root:"data",successProperty:"success",messageProperty:"msg"},extraParams:{instanceid:d}}});var g=Ext.create("Ext.data.Store",{model:"model_bp3qry_column",autoLoad:false,autoSync:false,proxy:{type:"ajax",url:rootURL+"index.php/c_bp3qry_column/getRows",reader:{type:"json",root:"data",successProperty:"success",messageProperty:"msg"},extraParams:{instanceid:d}}});var i=Ext.create("Ext.data.Store",{model:"model_bp3qry_link",autoLoad:false,autoSync:false,proxy:{type:"ajax",url:rootURL+"index.php/c_bp3qry_link/getRows",reader:{type:"json",root:"data",successProperty:"success",messageProperty:"msg"},extraParams:{instanceid:d}}});DefineForms_bp3qry_def_();DefineForms_bp3qry_column_();DefineForms_bp3qry_link_();var b=DefineInterface_bp3qry_def_("int_bp3qry_def",h,f);var a=DefineInterface_bp3qry_column_("int_bp3qry_column",g);var c=DefineInterface_bp3qry_link_("int_bp3qry_link",i);bp3qry_=Ext.create("Ext.form.Panel",{id:"bp3qry",layout:"fit",fieldDefaults:{labelAlign:"top",msgTarget:"side"},defaults:{anchor:"100%"},instanceid:d,onCommit:function(){},onButtonOk:function(){var j=this;b.doSave(j.onCommit)},onButtonCancel:function(){},canClose:function(){return b.canClose()},items:[{xtype:"tabpanel",itemId:"tabs_bp3qry",activeTab:0,layout:"fit",tabPosition:"top",border:0,items:[{xtype:"panel",border:0,title:"Представление",layout:"fit",itemId:"tab_bp3qry_def",items:[b]},{xtype:"panel",border:0,title:"Колонка",layout:"fit",itemId:"tab_bp3qry_column",items:[a]},{xtype:"panel",border:0,title:"Связанные представления",layout:"fit",itemId:"tab_bp3qry_link",items:[c]}]}]});if(e==true){bp3qry_.closable=true;bp3qry_.title="Запрос";bp3qry_.frame=true}else{bp3qry_.closable=false;bp3qry_.title="";bp3qry_.frame=false}h.on("load",function(){if(h.count()==0){h.insert(0,new model_bp3qry_def())}record=h.getAt(0);record.instanceid=d;b.setActiveRecord(record,d)});h.load({params:{instanceid:d}});a.instanceid=d;g.load({params:{instanceid:d}});c.instanceid=d;i.load({params:{instanceid:d}});return bp3qry_};